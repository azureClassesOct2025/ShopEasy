version: "3.9"

services:
  namedisplayservice:
    build:
      context: .
      dockerfile: NameDisplayService/Dockerfile
    container_name: namedisplayservice
    ports:
      - "5010:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development

  nameinputservice:
    build:
      context: .
      dockerfile: NameInputService/Dockerfile
    container_name: nameinputservice
    ports:
      - "5255:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - DisplayServiceUrl=http://namedisplayservice:8080
    depends_on:
      - namedisplayservice

  logviewerservice:
    build:
      context: .
      dockerfile: LogViewerService/Dockerfile
    container_name: logviewerservice
    ports:
      - "5090:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      # Map to NameInputService logs inside its container if using a shared volume
      # Set to a host-mounted volume below for cross-container visibility
      - LogDirectory=/logs
    volumes:
      # Mount the NameInputService logs from the host into this container at /logs
      - ./NameInputService/bin/Debug/net8.0/backupLog:/logs


